const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-DOPMtAiX.js","assets/Button-BUNh9_-d.js","assets/vendor-XtUg-c2N.js","assets/RegisterPage-Dx5hOWT5.js","assets/HomePage-YqsVHQY2.js","assets/financialRepository-DBypsj3-.js","assets/DetailPage-CD7e-GcR.js"])))=>i.map(i=>d[i]);
var P=Object.defineProperty;var U=(t,s,i)=>s in t?P(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i;var r=(t,s,i)=>U(t,typeof s!="symbol"?s+"":s,i);import{r as C,a as w,b as f,N as L,B as F,R as G,c as O}from"./vendor-XtUg-c2N.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))R(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&R(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function R(n){if(n.ep)return;n.ep=!0;const u=i(n);fetch(n.href,u)}})();var N={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I;function J(){if(I)return h;I=1;var t=C(),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),R=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(d,a,p){var m,l={},_=null,E=null;p!==void 0&&(_=""+p),a.key!==void 0&&(_=""+a.key),a.ref!==void 0&&(E=a.ref);for(m in a)R.call(a,m)&&!u.hasOwnProperty(m)&&(l[m]=a[m]);if(d&&d.defaultProps)for(m in a=d.defaultProps,a)l[m]===void 0&&(l[m]=a[m]);return{$$typeof:s,type:d,key:_,ref:E,props:l,_owner:n.current}}return h.Fragment=i,h.jsx=c,h.jsxs=c,h}var v;function q(){return v||(v=1,N.exports=J()),N.exports}var e=q(),S={},y;function V(){if(y)return S;y=1;var t=w();return S.createRoot=t.createRoot,S.hydrateRoot=t.hydrateRoot,S}var k=V();const H="modulepreload",W=function(t){return"/"+t},g={},A=function(s,i,R){let n=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.allSettled(i.map(a=>{if(a=W(a),a in g)return;g[a]=!0;const p=a.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${m}`))return;const l=document.createElement("link");if(l.rel=p?"stylesheet":H,p||(l.as="script"),l.crossOrigin="",l.href=a,d&&l.setAttribute("nonce",d),document.head.appendChild(l),p)return new Promise((_,E)=>{l.addEventListener("load",_),l.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${a}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return n.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return s().catch(u)})},x={login(t,s){const R=JSON.parse(localStorage.getItem("users")||"[]").find(n=>n.email===t&&n.password===s);if(R){const n={user:R,token:`token-${Date.now()}`,expiresAt:Date.now()+36e5};return localStorage.setItem("session",JSON.stringify(n)),R}return null},register(t){const s=JSON.parse(localStorage.getItem("users")||"[]");return s.push(t),localStorage.setItem("users",JSON.stringify(s)),t},logout(){localStorage.removeItem("session")},isAuthenticated(){const t=JSON.parse(localStorage.getItem("session")||"null");return t?t.expiresAt<Date.now()?(this.logout(),!1):!0:!1},refreshSession(){const t=JSON.parse(localStorage.getItem("session")||"null");t&&(t.expiresAt=Date.now()+36e5,localStorage.setItem("session",JSON.stringify(t)))},getCurrentUser(){const t=JSON.parse(localStorage.getItem("session")||"null");return(t==null?void 0:t.user)||null}};class o{}r(o,"LOGIN_SUCCESS","Login realizado com sucesso!"),r(o,"LOGOUT_SUCCESS","Logout realizado com sucesso!"),r(o,"REGISTER_SUCCESS","Usuário cadastrado com sucesso!"),r(o,"REGISTER_ERROR","Erro ao cadastrar usuário. Tente novamente."),r(o,"INVALID_CREDENTIALS","Email ou senha inválidos."),r(o,"LOGOUT_ERROR","Erro ao fazer logout. Tente novamente."),r(o,"USER_NOT_FOUND","Usuário não encontrado."),r(o,"INVALID_EMAIL","Email inválido."),r(o,"PASSWORD_MISMATCH","As senhas não coincidem."),r(o,"PASSWORD_TOO_SHORT","A senha deve ter pelo menos 6 caracteres."),r(o,"LOGIN_ERROR","Ocorreu um erro ao processar o login"),r(o,"PASSWORD_REQUIRED","A senha é obrigatória."),r(o,"EMAIL_REQUIRED","O email é obrigatório."),r(o,"NAME_REQUIRED","O nome é obrigatório."),r(o,"NAME_TOO_SHORT","O nome deve ter pelo menos 3 caracteres."),r(o,"USER_EXISTS","Este email já está cadastrado."),r(o,"GENERAL_ERROR","Ocorreu um erro inesperado."),r(o,"INVALID_FORM","Por favor, preencha todos os campos corretamente."),r(o,"INVALID_PASSWORD","Senha inválida."),r(o,"INVALID_NAME","Nome inválido."),r(o,"CONFIRM_PASSWORD_REQUIRED","A confirmação de senha é obrigatória."),r(o,"INVALID_CONFIRM_PASSWORD","Confirmação de senha inválida."),r(o,"INVALID_EMAIL_FORMAT","Formato de email inválido."),r(o,"INVALID_NAME_LENGTH","O nome deve ter pelo menos 3 caracteres."),r(o,"FIRST_NAME_REQUIRED","O primeiro nome é obrigatório."),r(o,"FIRST_NAME_TOO_SHORT","O primeiro nome deve ter pelo menos 2 caracteres."),r(o,"LAST_NAME_REQUIRED","O sobrenome é obrigatório."),r(o,"LAST_NAME_TOO_SHORT","O sobrenome deve ter pelo menos 2 caracteres."),r(o,"REGISTER_ERROR_MESSAGE","Erro ao registrar usuário. Tente novamente."),r(o,"FORMAT_CURRENCY_ERROR","Erro ao formatar valor para a moeda"),r(o,"FINANCIAL_DATA_ERROR","Erro ao buscar dados financeiros"),r(o,"FINANCIAL_DATA_NOT_FOUND","Não foi possível carregar os dados financeiros. Tente novamente mais tarde."),r(o,"QUOTATION_ERROR","Erro ao buscar cotações"),r(o,"DATA_NOT_FOUND","Dados não encontrados"),r(o,"ERROR_LOADING_DATA","Erro ao carregar dados.");const T=f.createContext({}),z=({children:t})=>{const[s,i]=f.useState(null),[R,n]=f.useState(!1),[u,c]=f.useState(!0),d=()=>{if(!x.isAuthenticated())i(null),n(!1);else{const _=x.getCurrentUser();i(_),n(!0),x.refreshSession()}};f.useEffect(()=>{d(),c(!1);const l=setInterval(()=>{d()},6e4);return()=>clearInterval(l)},[]);const a=(l,_)=>{const E=x.login(l,_);return E?(i(E),n(!0),!0):!1},p=l=>{try{return x.register(l),!0}catch(_){return console.error(o.REGISTER_ERROR_MESSAGE,_),!1}},m=()=>{x.logout(),i(null),n(!1)};return e.jsx(T.Provider,{value:{user:s,isAuthenticated:R,loading:u,login:a,register:p,logout:m},children:t})},D=()=>f.useContext(T),Q=({title:t})=>{const{user:s,logout:i}=D();return e.jsx("header",{className:"bg-gradient-to-l bg-secondary-1000 shadow border-solid border-b-emerald-100 ",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-primary-500",children:t})}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"mr-4 text-primary-100",children:["Olá, ",s==null?void 0:s.firstName]}),e.jsx("button",{onClick:i,className:" text-primary-400 font-bold py-1 px-3 text-sm",children:"Logout"})]})]})})},$=()=>{const t=new Date().getFullYear();return e.jsx("footer",{className:"bg-secondary-900 border-t border-secondary-700 py-4 mt-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-secondary-200 text-sm",children:["© ",t," Finance Pal. Todos os direitos reservados."]})})},b=()=>e.jsx("div",{className:"flex items-center justify-center ",children:e.jsx("div",{className:"w-16 h-16 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}),j=({children:t})=>{const{isAuthenticated:s,loading:i}=D();return i?e.jsx(b,{}):s?e.jsxs(e.Fragment,{children:[e.jsx(Q,{title:"Finance Pal"}),t,e.jsx($,{})]}):e.jsx(L,{to:"/login",replace:!0})},B=f.lazy(()=>A(()=>import("./LoginPage-DOPMtAiX.js"),__vite__mapDeps([0,1,2]))),Y=f.lazy(()=>A(()=>import("./RegisterPage-Dx5hOWT5.js"),__vite__mapDeps([3,1,2]))),K=f.lazy(()=>A(()=>import("./HomePage-YqsVHQY2.js"),__vite__mapDeps([4,2,5]))),X=f.lazy(()=>A(()=>import("./DetailPage-CD7e-GcR.js"),__vite__mapDeps([6,5,2]))),Z=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary-900",children:e.jsx("div",{className:"text-xl text-secondary-600",children:e.jsx(b,{})})}),M=()=>e.jsx(z,{children:e.jsx(F,{children:e.jsx(f.Suspense,{fallback:e.jsx(Z,{}),children:e.jsxs(G,{children:[e.jsx(O,{path:"/login",element:e.jsx(B,{})}),e.jsx(O,{path:"/register",element:e.jsx(Y,{})}),e.jsx(O,{path:"/",element:e.jsx(j,{children:e.jsx(K,{})})}),e.jsx(O,{path:"/detail/:id",element:e.jsx(j,{children:e.jsx(X,{})})}),e.jsx(O,{path:"*",element:e.jsx(L,{to:"/",replace:!0})})]})})})});k.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(M,{})}));export{b as L,o as M,e as j,D as u};
